!function(e){"use strict";e.module("mde.swipeToRefresh",[]).constant("mdeSwipeToRefreshConfig",{threshold:85})}(angular),function(e){"use strict";function t(t,o,r){function s(s,i,l,a){function c(e){s.state==n.None&&(s.$apply(function(){s.progress=0,s.movement=0,o(function(){s.state=n.Pulling})}),u=e.touches[0].pageY,i.one("touchend",d),i.bind("touchmove",m))}function m(e){if(!(p[0].scrollTop>0)){var t=e.touches[0].pageY-u;t>0&&s.$apply(function(){s.movement=Math.min(t,15*Math.log(t)),s.progress=Math.min(t/s.mdeThreshold,1),s.progress>0&&e.preventDefault()})}}function d(r){i.unbind("touchmove",m),s.$apply(function(){1==s.progress?(s.state=n.Updating,s.movement=60,t.when((s.mdeOnRefresh||e.noop)())["finally"](function(){s.state=n.None})):((s.mdeOnCancel||e.noop)(),s.movement=0,o(function(){s.state=n.None},100))})}i.bind("touchstart",c);var p,u;if(a)p=a.getElement();else if(s.mdeScrollHostSelector){for(var h=i.parent();h[0]!=document.body;)if(h=h.parent(),h[0].matches(s.mdeScrollHostSelector)){p=h;break}p=p||h}else p=e.element(document.body);s.mdeThreshold=s.mdeThreshold||r.threshold,s.State=n,s.progress=0,s.state=n.None}return{restrict:"A",require:"?^mdeSwipeToRefreshScrollHost",transclude:!0,scope:{mdeOnRefresh:"&?",mdeOnCancel:"&?",mdeScrollHostSelector:"@?",mdeThreshold:"=?"},templateUrl:"swipe-to-refresh/swipe-to-refresh.html",link:s}}t.$inject=["$q","$timeout","mdeSwipeToRefreshConfig"],e.module("mde.swipeToRefresh").directive("mdeSwipeToRefresh",t);var n={None:"None",Updating:"Updating",Pulling:"Pulling"}}(angular),function(e){"use strict";function t(){function e(e){function t(){return e}this.getElement=t}return e.$inject=["$element"],{restrict:"A",controller:e}}e.module("mde.swipeToRefresh").directive("mdeSwipeToRefreshScrollHost",t)}(angular),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1}),function(e){try{e=angular.module("mde.swipeToRefresh")}catch(t){e=angular.module("mde.swipeToRefresh",[])}e.run(["$templateCache",function(e){e.put("swipe-to-refresh/swipe-to-refresh.html",'<div\n     class="_indicator-wrap" layout="column" layout-align="center center"\n     ng-style="{top: -40 + movement + \'px\'}">\n    <span class="md-whiteframe-2dp _indicator" ng-if="state == State.Pulling">\n        <md-progress-circular\n                md-diameter="20" value="{{progress*80}}"\n                ng-style="{transform: \'rotate(\' + movement*1.8 + \'deg)\', opacity: progress == 1 ? 1 : .4}">\n        </md-progress-circular>\n    </span>\n    <!--\n    We use ng-show because ng-if will destroy md-progress-circular scope and it will no longer spin while it\'s\n    fading out. It event don\'t freezes in it\'s last state.\n    -->\n    <span class="md-whiteframe-2dp _indicator _updating" ng-show="state == State.Updating">\n        <md-progress-circular md-diameter="20" md-mode="indeterminate"></md-progress-circular>\n    </span>\n</div>\n<div ng-transclude></div>\n')}])}();